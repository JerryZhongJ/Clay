# AttentionField

## 概述

负责管理注意域，产生活动。注意域是 AI 助手的"工作记忆"区域，类似于 LLM 的 context。

## 核心功能

### 处理活动

**活动准入机制**：

AttentionField 根据 Faculty 的 focus 值和活动优先级决定活动是否进入注意域：

- **focus 值**：决定每个 Faculty 在注意域中的"席位"占比
- **优先级**：决定同一 Faculty 的活动中哪些占据席位
- **占比计算**：综合考虑 focus 值和实际活动大小（参考进程调度算法）

**非潜意识活动处理流程**：
1. 根据 Faculty focus 值分配注意域空间占比
2. 在 Faculty 席位内，按活动优先级(0-9)排序
3. 高优先级活动优先进入注意域
4. 其余活动仅 append 在活动流中

### 管理注意域

注意域拥有固定大小（可配置，默认由 LLM 决定）。容量按活动格式化后的字符串长度计算。

**清空机制**：
- 当容量达到 100% 时触发清空
- 采用 FIFO 策略，默认清空 50%（用户可配置）
- 清空操作异步执行，产生包含被清空活动的清空活动
- 被清空的活动暂存在内存中，供 Memory 持久化